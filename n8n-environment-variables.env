# Entelech Prospect Intelligence Engine - n8n Environment Variables
# Copy this file to your n8n installation directory and configure according to your environment

# =============================================================================
# AZURE OPENAI SERVICE CONFIGURATION
# =============================================================================
# Azure OpenAI endpoint URL (replace with your deployment)
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/

# Azure OpenAI API Key (from Azure Portal > OpenAI Service > Keys and Endpoint)
AZURE_OPENAI_API_KEY=your-azure-openai-api-key-here

# GPT-4 model deployment name (configured in Azure OpenAI Studio)
AZURE_OPENAI_GPT4_DEPLOYMENT=gpt-4

# =============================================================================
# POSTGRESQL DATABASE CONFIGURATION
# =============================================================================
# Azure Database for PostgreSQL Flexible Server connection string
POSTGRES_HOST=your-postgres-server.postgres.database.azure.com
POSTGRES_PORT=5432
POSTGRES_DATABASE=entelech_prospect_intelligence
POSTGRES_USERNAME=postgres_admin
POSTGRES_PASSWORD=your-secure-database-password
POSTGRES_SSL=require

# Alternative: Full connection string
# POSTGRES_CONNECTION_STRING=postgresql://postgres_admin:password@your-server.postgres.database.azure.com:5432/entelech_prospect_intelligence?sslmode=require

# =============================================================================
# AZURE BLOB STORAGE CONFIGURATION
# =============================================================================
# Azure Storage Account name
AZURE_STORAGE_ACCOUNT=yourstorageaccount

# Azure Storage Account key (from Azure Portal > Storage Account > Access Keys)
AZURE_STORAGE_KEY=your-storage-account-key

# Container name for storing PDF reports
AZURE_STORAGE_CONTAINER=prospect-reports

# Storage account connection string (alternative to account + key)
# AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=youraccount;AccountKey=yourkey;EndpointSuffix=core.windows.net

# =============================================================================
# CONVERTKIT CRM INTEGRATION
# =============================================================================
# ConvertKit API Key (from ConvertKit > Account Settings > API)
CONVERTKIT_API_KEY=your-convertkit-api-key

# ConvertKit API Secret (from ConvertKit > Account Settings > API)
CONVERTKIT_API_SECRET=your-convertkit-api-secret

# ConvertKit Form IDs for different lead magnets
CONVERTKIT_BASIC_FORM_ID=123456
CONVERTKIT_PROFESSIONAL_FORM_ID=234567
CONVERTKIT_ENTERPRISE_FORM_ID=345678

# ConvertKit Sequence IDs for automated follow-ups
CONVERTKIT_HIGH_VALUE_SEQUENCE=567890
CONVERTKIT_MEDIUM_VALUE_SEQUENCE=678901
CONVERTKIT_BASIC_SEQUENCE=789012

# =============================================================================
# N8N INTERNAL API CONFIGURATION
# =============================================================================
# Internal API key for workflow-to-workflow communication
N8N_INTERNAL_API_KEY=your-secure-internal-api-key-here

# Webhook API key for external webhook security
N8N_WEBHOOK_API_KEY=your-webhook-api-key-here

# n8n instance base URL
N8N_BASE_URL=https://your-n8n-instance.com

# =============================================================================
# PDF GENERATION SERVICE
# =============================================================================
# Puppeteer service URL for PDF generation (self-hosted or third-party)
PUPPETEER_SERVICE_URL=http://localhost:3001

# Authentication token for PDF service
PUPPETEER_SERVICE_TOKEN=your-pdf-service-token

# Alternative: HTMLPDFService.com (if using third-party service)
# HTML_PDF_SERVICE_API_KEY=your-html-pdf-api-key

# =============================================================================
# NOTIFICATION SERVICES
# =============================================================================
# Slack webhook URL for high-priority lead alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Microsoft Teams webhook (alternative to Slack)
# TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/TEAMS/WEBHOOK

# Email service for notifications (SendGrid, Mailgun, etc.)
# SENDGRID_API_KEY=your-sendgrid-api-key
# SENDGRID_FROM_EMAIL=alerts@entelech.ai

# =============================================================================
# SECURITY AND MONITORING
# =============================================================================
# Encryption key for sensitive data
DATA_ENCRYPTION_KEY=your-32-character-encryption-key-here

# Application Insights connection string (optional)
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key;IngestionEndpoint=https://your-region.in.applicationinsights.azure.com/

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable detailed logging for debugging
DEBUG_MODE=false

# =============================================================================
# RATE LIMITING AND PERFORMANCE
# =============================================================================
# Azure OpenAI rate limits (requests per minute)
AZURE_OPENAI_RATE_LIMIT=60

# Maximum concurrent workflow executions
MAX_CONCURRENT_EXECUTIONS=10

# Request timeout in milliseconds
REQUEST_TIMEOUT=30000

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================
# Azure backup storage account (for automated backups)
# BACKUP_STORAGE_ACCOUNT=backupstorageaccount
# BACKUP_STORAGE_KEY=your-backup-storage-key
# BACKUP_CONTAINER=workflow-backups

# =============================================================================
# ENVIRONMENT SPECIFIC SETTINGS
# =============================================================================
# Environment (development, staging, production)
NODE_ENV=production

# Enable/disable certain features per environment
ENABLE_ANALYTICS=true
ENABLE_DEBUG_LOGGING=false
ENABLE_PERFORMANCE_MONITORING=true

# =============================================================================
# AZURE SERVICE PRINCIPAL (for automated deployment)
# =============================================================================
# Used for Infrastructure as Code deployments
# AZURE_CLIENT_ID=your-service-principal-client-id
# AZURE_CLIENT_SECRET=your-service-principal-secret
# AZURE_TENANT_ID=your-azure-tenant-id
# AZURE_SUBSCRIPTION_ID=your-azure-subscription-id

# =============================================================================
# WEBHOOK ENDPOINTS (auto-generated after deployment)
# =============================================================================
# These will be populated automatically after workflow deployment
# WEBHOOK_WEBSITE_SCRAPER=https://your-n8n.com/webhook/website-analysis
# WEBHOOK_OPPORTUNITY_DETECTION=https://your-n8n.com/webhook/automation-opportunity-detection
# WEBHOOK_REPORT_GENERATION=https://your-n8n.com/webhook/report-generation
# WEBHOOK_CRM_INTEGRATION=https://your-n8n.com/webhook/crm-integration

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable specific features
ENABLE_AI_ANALYSIS=true
ENABLE_PDF_GENERATION=true
ENABLE_CRM_SYNC=true
ENABLE_SLACK_NOTIFICATIONS=true
ENABLE_PRIORITY_ALERTS=true

# =============================================================================
# BUSINESS LOGIC CONFIGURATION
# =============================================================================
# ROI calculation parameters
DEFAULT_HOURLY_RATE=85
HIGH_PRIORITY_LEAD_SCORE=75
CONFIDENCE_SCORE_THRESHOLD=0.7

# Package pricing (for ROI calculations)
BASIC_PACKAGE_PRICE=2500
PROFESSIONAL_PACKAGE_PRICE=7500
ENTERPRISE_PACKAGE_PRICE=15000

# Analysis retention period (days)
ANALYSIS_RETENTION_DAYS=365

# Report expiration period (days)
REPORT_EXPIRATION_DAYS=90